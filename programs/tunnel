os.loadAPI("apis/data")
os.loadAPI("apis/base")

VERSION = "0.0.0"

local currentDepth = 0

function getFuel()
    turtle.select(base.COAL_SLOT)
    local amount = turtle.getItemSpace()
    if amount == 0 then
        print("INFO: FUEL FULL")
        return
    end
    if not turtle.suckDown(amount) then
        print("WARNING: NO FUEL FOUND")
    end
end

function dig2x1forward()
    turtle.dig()
    turtle.forward()
    turtle.digUp()
    currentDepth = currentDepth + 1
end

function followVeins()
    turtle.turnLeft()
    turtle.inspect()
    turtle.turnRight()
    
    turtle.turnRight()
    turtle.inspect()
    turtle.turnLeft()

    turtle.up()

    turtle.turnLeft()
    turtle.inspect()
    turtle.turnRight()
    
    turtle.turnRight()
    turtle.inspect()
    turtle.turnLeft()

    turtle.down()
end

function tunnel(amount)
    local i = 0
    while i < amount do
        dig2x1forward()
        followVeins()
        i = i + 1
    end
    i = 0

    while i < amount do
        turtle.back()
    end
    base.unload()
end

getFuel()
tunnel(16)